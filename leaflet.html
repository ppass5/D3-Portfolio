<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- TITLE -->
    <title>Leaflet/SVG Combination Exercise</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- GOOGLE FONT -->
    <!-- <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'> -->

    <!-- CSS LIBRARY -->
    <link rel="stylesheet" type="text/css" href="css/lib/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/lib/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/lib/eleganticons.css">
    <link rel="stylesheet" type="text/css" href="css/lib/owl.carousel.css">
    <link rel="stylesheet" type="text/css" href="css/lib/perfect-scrollbar.min.css">

    <!-- MAIN STYLE -->
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="css/svg-style.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="css/settings/_margin.css">
    <link rel="stylesheet" type="text/css" href="css/settings/_padding.css">
    <link href="css/leaflet.css" rel="stylesheet" />
    <link href="css/leaflet-style.css" rel="stylesheet" />
    <!-- <link href="css/leaflet-map-overlay.css" rel="stylesheet" /> -->


    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
    <![endif]-->
</head>

<!--[if IE 7]> <body class="ie7 lt-ie8 lt-ie9 lt-ie10"> <![endif]-->
<!--[if IE 8]> <body class="ie8 lt-ie9 lt-ie10"> <![endif]-->
<!--[if IE 9]> <body class="ie9 lt-ie10"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <body> <!--<![endif]-->




    <!-- PAGE WRAP -->
    <div id="page-wrap">

        <!-- HEADER -->
        <header id="header" class="has-background mt-40 mt-xs-20">

            <div class="container-fluid">

                <div class="header-content">

                    <!-- LOGO -->
                    <div class="logo">
                        <a href="#"><img src="img/logo.png" alt=""></a>
                    </div>
                    <!-- END / LOGO -->

                    <!-- MENU -->
                    <nav class="menu-nav">
                        <ul class="menu">
                            <li class="current-menu-item">
                                <a href="index.html">HOME</a>
                            </li>
                            <li>
                                <a href="about.html">ABOUT</a>

                            </li>
                            <li>
                                <a href="portfolio.html">PORTFOLIO</a>

                            </li>
                            <li>
                                <a href="contact.html">CONTACT</a>
                            </li>

                        </ul>
                    </nav>
                    <!-- END / MENU -->

                </div>

            </div>

        </header>
        <!-- END / HEADER -->



        <!-- PROJECT Content Area -->
        <section class="section-projectc">
            <div class="container-fluid">

                <div class="project-single project-single2">

                    <div class="row">

                        <div class="col-md-8">
                            <div class="project-content">
                                <div class="project-content">
                                  <div id="map"></div>

      <script src="js/leaflet.js"></script>
      <script src="js/fl-district.js"></script>
      <script src="js/students_revised.js"></script>

    <script>

     function addColor(n){
        return n > 5001 && n < 6000 ? "#bfd3e6":
               n > 4001 && n < 5000 ? "#9ebcda":
               n > 3001 && n < 4000 ? "#8c96c6":
               n > 2001 && n < 3000 ? "#8856a7":
               n > 1001 && n < 2000 ? "#810f7c":
               n > 0 && n < 1000 ?    "#edf8fb":
                                      "#000000"
      };

          //adding style
      function style(features) {
      	return {
          fillColor: addColor(features.properties.students),
          weight: 1,
          opacity: 1,
          color: "#000000",
          dashArray: '3',
          fillOpacity: 0.7


        };

      };



          //counting students
      var studentCount = studentTotals.length;

      for (i = 0; i < studentTotals.length; i++){
        var students = studentTotals[i]["students"];
        if (studentCount[students]){
          studentCount[students] += 1;
        } else {
          studentCount[students] = 1;
            console.log(studentCount);
        }
      }








      for (i = 0; i < districtData["features"].length; i++) {
      	var students = districtData["features"][i]["properties"]["name"];
      	districtData["features"][i]["properties"]["students"] = studentCount[students] || 0;

      }

        //save for later---> https://korona.geog.uni-heidelberg.de/tiles/roadsg/x={x}&y={y}&z={z}
        //making the map
      var map = L.map("map").setView([27.6001253, -83.2468004], 6);

      L.tileLayer("https://korona.geog.uni-heidelberg.de/tiles/roadsg/x={x}&y={y}&z={z}", {
      	maxZoom: 19,
      	attribution: "&copy; <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a>"
      }).addTo(map);

          //adding geojson
      L.geoJson(districtData, /* {style: style} */).addTo(map);

      // var legend = L.control({position: "bottomright"});
      //   legend.onAdd = function(map){
      //       var div = L.DomUtil.create("div", "info legend")
      //       var students = [[1-100], [1001-2000], [2001-3000], [3001-4000], [4001-5000], [5001-6000]]
      //       for (i = 0; i < studentTotals.length; i++){
      //           div.innerHTML +=
      //               "<span style='background: " + addColor(students[i]) + "'></span> " + students[i] + "<br/>";
      //       }
      //       return div;
      //   }
      //     legend.addTo(map);

    </script>
                                </div>

                                <div class="project-nav">
                                    <a href="mycampus.html" class="nav-left"><span><i class="arrow_left"></i> Prev</span></a>
                                    <a href="portfolio.html" class="nav-center"><i class="icon_grid-2x2"></i></a>
                                    <a href="leaflt.html" class="nav-right"><span>Next <i class="arrow_right"></i></span></a>
                                </div>
                            </div>
                        </div>
                        <!-- PROJECT Content Area -->
            <!--Project Description-->
                        <div class="col-md-4">
                            <div class="project-info">
                                <h1 class="h4">Homeschool Children By District, 2016-2017</h1>
                                <hr class="divider" data-width="40">
                                <div class="description">
                                    <p>This is suposed to be an interactive map made with Leaflet and geoJson. It features a legend, a Chloropleth overlay and interactive display. It details the amount of homeschool students per district. <br>
                                    Leaflet is an open source javascript library that can be easily used on mobile applications.</p>
                                    <br /> I came in to get help with why the overlay isn't working and we couldn't figure it out. 
                                </div>

                                <h4>Category</h4>
                                <p>Chloropleth Combo</p>
                                <a href="portfolio.html" class="button">View Portfolio</a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
        <!-- END / PROJECT -->

        <!-- FOOTER -->
        <footer id="footer">
            <div class="container-fluid">

                <div class="row">

                  <div class="row">
                    <div class="col-sm-6">
                        <div class="venus-social">
                            <a href="https://www.linkedin.com/in/lena-gonzalez1/"><i class="fa fa-linkedin"></i></a>
                            <a href="https://twitter.com/LenaMarieDigi"><i class="fa fa-twitter"></i></a>
                            <a href="https://www.pinterest.com/lenamariedigital/"><i class="fa fa-pinterest"></i></a>
                            <a href="https://www.instagram.com/__lenamarie__/"><i class="fa fa-instagram"></i></a>
                        </div>
                    </div>



                </div>

            </div>
        </footer>
        <!-- END / FOOTER -->

    </div>
    <!-- END / PAGE WRAP -->

    <!-- LOAD JQUERY -->
    <script type="text/javascript" src="js/lib/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="js/lib/isotope.pkgd.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery.typer.min.js"></script>
    <script type="text/javascript" src="js/lib/imagesloaded.pkgd.js"></script>
    <script type="text/javascript" src="js/lib/packery-mode.pkgd.min.js"></script>
    <script type="text/javascript" src="js/lib/background.js"></script>
    <script type="text/javascript" src="js/lib/three.js"></script>
    <script type="text/javascript" src="js/lib/perfect-scrollbar.min.js"></script>
    <script type="text/javascript" src="js/lib/retina.min.js"></script>
    <script type="text/javascript" src="js/scripts.js"></script>
</body>
</html>
