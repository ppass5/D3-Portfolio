<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- TITLE -->
    <title>D3 Exercise</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- GOOGLE FONT -->
    <!-- <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'> -->

    <!-- CSS LIBRARY -->
    <link rel="stylesheet" type="text/css" href="css/lib/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/lib/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/lib/eleganticons.css">
    <link rel="stylesheet" type="text/css" href="css/lib/owl.carousel.css">
    <link rel="stylesheet" type="text/css" href="css/lib/perfect-scrollbar.min.css">

    <!-- MAIN STYLE -->
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/settings/_margin.css">
    <link rel="stylesheet" type="text/css" href="css/settings/_padding.css">
      <link rel="stylesheet" type="text/css" href="css/d3.css">



    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>

    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <script src="http://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
    <![endif]-->
</head>

<!--[if IE 7]> <body class="ie7 lt-ie8 lt-ie9 lt-ie10"> <![endif]-->
<!--[if IE 8]> <body class="ie8 lt-ie9 lt-ie10"> <![endif]-->
<!--[if IE 9]> <body class="ie9 lt-ie10"> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <body> <!--<![endif]-->




    <!-- PAGE WRAP -->
    <div id="page-wrap">

        <!-- HEADER -->
        <header id="header" class="has-background mt-40 mt-xs-20">

            <div class="container-fluid">

                <div class="header-content">

                    <!-- LOGO -->
                    <div class="logo">
                        <a href="#"><img src="img/logo.png" alt=""></a>
                    </div>
                    <!-- END / LOGO -->

                    <!-- MENU -->
                    <nav class="menu-nav">
                        <ul class="menu">
                            <li class="current-menu-item">
                                <a href="index.html">HOME</a>
                            </li>
                            <li>
                                <a href="about.html">ABOUT</a>

                            </li>
                            <li>
                                <a href="portfolio.html">PORTFOLIO</a>

                            </li>
                            <li>
                                <a href="contact.html">CONTACT</a>
                            </li>

                        </ul>
                    </nav>
                    <!-- END / MENU -->

                </div>

            </div>

        </header>
        <!-- END / HEADER -->



        <!-- PROJECT Content Area -->
        <section class="section-projectc">
            <div class="container-fluid">

                <div class="project-single project-single2">

                    <div class="row">

                        <div class="col-md-8">
                            <div class="project-content">
                                <div class="project-content">

                                  <h2>Example Scatterplot </h2>
    <p>This is a data visualization using transitions with a scatterplot. The first plot shows total number of seniors SAT scores 2014. The second chart shows homeschool students SAT scores.
      <br />
      Subject 1 is Critical Reading, Subject 2 is Mathematics and Subject 3 is Writing.
     </p>
    <button>Click to Change Plot</button>
    <main></main>

  <!-- Begin D3 Javascript -->
  <script type="text/javascript">



    var datasetOne = [[1,497], [2,513], [3,487]];
    // var datasetOne = [{"subject": "Critical Reading", "value": 497},
                      // {"subject": "Mathematics", "value": 513},
                      // {"subject": "Writing", "value": 487},];
    //create canvas
    var canvas_width = 700;
    var canvas_height = 500;
    var padding = 80;

    var xScale = d3.scale.linear()
                .domain([0, d3.max(datasetOne, function(d){
                  return d[0];
                })])
                .range([padding, canvas_width - padding * 2]);
    var yScale = d3.scale.linear()
                .domain([0, d3.max(datasetOne, function(d){
                  return d[1];
                })])
                .range([canvas_height - padding, padding]);

    // var label = {["Critical Reading"]["Mathematics"]["Writing"]};


    var xAxis = d3.svg.axis()
                .scale(xScale)
                .orient("bottom")
                .ticks(3);





    var yAxis = d3.svg.axis()
                .scale(yScale)
                .orient("left")



    var svg= d3.select("main").append("svg")
          .attr("width", canvas_width)
          .attr("height", canvas_height)





          //add circles

    svg.selectAll("circle")
          .data(datasetOne)
          .enter()
          .append("circle")
          .attr("cx", function(d) {
              return xScale(d[0]);
                })
               .attr("cy", function(d) {
                    return yScale(d[1]);
                })
                .attr("fill", "red")
                .attr("r", 4);

                //Add to X axis

    svg.append("g")
        .attr("class", "x axis")
        .attr("transform", "translate(0," + (canvas_height - padding) +")")
        .call(xAxis);

        //Add to Y axis

    svg.append("g")
        .attr("class", "y axis")
        .attr("transform", "translate(" + padding +",0)")
        .call(yAxis);


        //labels

        svg.selectAll(".xAxis text")
        .attr("transform", function(d){
          return "translate(" + this.getBBox().canvas_height*-2 + "," + this.getBBox().canvas_height + ")rotate(-45)";
       });
       svg.append("text")
            .attr("text-anchor", "middle")
            .attr("transform", "translate("+ (padding/2) +","+(canvas_height/2)+")rotate(-90)")
            .text("Score");

        svg.append("text")
            .attr("text-anchor", "middle")
            .attr("transform", "translate("+ (canvas_width/2) +","+(canvas_height-(padding/3))+")")
            .text("subject");



        //DatasetTwo

        d3.select("button")
          .on("click", function() {
            // console.log('ok');
            datasetOne = [];
             datasetOne = [[1,567], [2,521], [3,535]];
             // [{"subject": "Critical Reading", "value": 567},
             //  {"subject": "Mathematics", "value": 521},
             //  {"subject": "Writing", "value": 535},];
              numValues = datasetOne.length;


      //update scale
        xScale.domain([0, d3.max(datasetOne, function(d) {
            return d[0]; })]);
        yScale.domain([0, d3.max(datasetOne, function(d) {
            return d[1]; })]);

      //move circles
        svg.selectAll("circle")
            .data(datasetOne)
            .transition()
            .duration(1000)
            .each("start", function(){
              d3.select(this)
                .attr("fill", "red")
                .attr("r", 2);
            })

            .delay(function(d,i) {
              return i / datasetOne.length * 500;
            })
          // Transition
          .attr("cx", function(d){
            return xScale(d[0]);
          })
          .attr("cy",function(d){
            return yScale(d[1]);
          })
          //end animation
          .each("end", function(){
            d3.select(this)
            .transition()
            .duration(500)
            .attr("fill", "red")
            .attr("r", 4);
          });

          //Update X Axis

          svg.select(".x.axis")
           .transition()
           .duration(1000)
           .call(xAxis);

           svg.select(".y.axis")
            .transition()
            .duration(100)
            .call(yAxis);

          });











  </script>

                                </div>

                                <div class="project-nav">
                                    <a href="leaflet.html" class="nav-left"><span><i class="arrow_left"></i> Prev</span></a>
                                    <a href="portfolio.html" class="nav-center"><i class="icon_grid-2x2"></i></a>
                                    <a href="week2.html" class="nav-right"><span>Next <i class="arrow_right"></i></span></a>
                                </div>
                            </div>
                        </div>
                        <!-- PROJECT Content Area -->
            <!--Project Description-->
                        <div class="col-md-4">
                            <div class="project-info">
                                <h1 class="h4">Scatter Chart</h1>
                                <hr class="divider" data-width="40">
                                <div class="description">
                                    <p>
                                    This a an example of a scatter chart that changes on click uing the D3 library.
                                    <br>
                                    This chart shows the difference in SAT scores from homeschool students to total number of students.
                                  </p>
                                </div>

                                <h4>Category</h4>
                                <p>D3</p>
                                <a href="portfolio.html" class="button">View Portfolio</a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
        <!-- END / PROJECT -->

        <!-- FOOTER -->
        <footer id="footer">
            <div class="container-fluid">

                <div class="row">

                  <div class="row">
                    <div class="col-sm-6">
                        <div class="venus-social">
                            <a href="https://www.linkedin.com/in/lena-gonzalez1/"><i class="fa fa-linkedin"></i></a>
                            <a href="https://twitter.com/LenaMarieDigi"><i class="fa fa-twitter"></i></a>
                            <a href="https://www.pinterest.com/lenamariedigital/"><i class="fa fa-pinterest"></i></a>
                            <a href="https://www.instagram.com/__lenamarie__/"><i class="fa fa-instagram"></i></a>
                        </div>
                    </div>



                </div>

            </div>
        </footer>
        <!-- END / FOOTER -->

    </div>
    <!-- END / PAGE WRAP -->

    <!-- LOAD JQUERY -->
    <script type="text/javascript" src="js/lib/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="js/lib/isotope.pkgd.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery.typer.min.js"></script>
    <script type="text/javascript" src="js/lib/imagesloaded.pkgd.js"></script>
    <script type="text/javascript" src="js/lib/packery-mode.pkgd.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery.owl.carousel.js"></script>
    <script type="text/javascript" src="js/lib/background.js"></script>
    <script type="text/javascript" src="js/lib/three.js"></script>
    <script type="text/javascript" src="js/lib/perfect-scrollbar.min.js"></script>
    <!-- <script src="http://maps.googleapis.com/maps/api/js?v=3&amp;sensor=false"></script> -->
    <script type="text/javascript" src="js/lib/retina.min.js"></script>
    <script type="text/javascript" src="js/scripts.js"></script>
</body>
</html>
